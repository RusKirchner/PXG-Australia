{% schema %}
  {
    "name": "Two Videos with Text",
    "settings": [
      {
        "type": "url",
        "id": "video1_url",
        "label": "Video 1 URL (YouTube/Vimeo or leave blank for self-hosted)",
      },
      {
        "type": "url",
        "id": "video1_self_hosted_url",
        "label": "Video 1 Self-Hosted URL",
      },
      {
        "type": "textarea",
        "id": "video1_text",
        "label": "Video 1 Text",
        "default": "Description for video 1."
      },
      {
        "type": "url",
        "id": "video2_url",
        "label": "Video 2 URL (YouTube/Vimeo or leave blank for self-hosted)",
      },
      {
        "type": "url",
        "id": "video2_self_hosted_url",
        "label": "Video 2 Self-Hosted URL",
      },
      {
        "type": "textarea",
        "id": "video2_text",
        "label": "Video 2 Text",
        "default": "Description for video 2."
      }
    ],
    "presets": [
      {
        "name": "Two Videos with Text",
        "category": "Custom"
      }
    ]
  }
{% endschema %}

<section class="section two-videos-section">
  <div class="two-videos-container">
    <div class="video-item">
      {% if section.settings.video1_url contains 'youtube' %}
        <div class="video-wrapper">
          <iframe width="100%" height="315" src="{{ section.settings.video1_url | replace: 'watch?v=', 'embed/' }}" frameborder="0" allowfullscreen></iframe>
        </div>
      {% elsif section.settings.video1_url contains 'vimeo' %}
        <div class="video-wrapper">
          <iframe width="100%" height="315" src="{{ section.settings.video1_url | replace: 'vimeo.com', 'player.vimeo.com/video' }}" frameborder="0" allowfullscreen></iframe>
        </div>
      {% elsif section.settings.video1_self_hosted_url != blank %}
        <div class="video-wrapper">
          <video controls>
            <source src="{{ section.settings.video1_self_hosted_url }}" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
      {% endif %}
      <p class="video-text">{{ section.settings.video1_text }}</p>
    </div>
    <div class="video-item">
      {% if section.settings.video2_url contains 'youtube' %}
        <div class="video-wrapper">
          <iframe width="100%" height="315" src="{{ section.settings.video2_url | replace: 'watch?v=', 'embed/' }}" frameborder="0" allowfullscreen></iframe>
        </div>
      {% elsif section.settings.video2_url contains 'vimeo' %}
        <div class="video-wrapper">
          <iframe width="100%" height="315" src="{{ section.settings.video2_url | replace: 'vimeo.com', 'player.vimeo.com/video' }}" frameborder="0" allowfullscreen></iframe>
        </div>
      {% elsif section.settings.video2_self_hosted_url != blank %}
        <div class="video-wrapper">
          <video controls>
            <source src="{{ section.settings.video2_self_hosted_url }}" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>
      {% endif %}
      <p class="video-text">{{ section.settings.video2_text }}</p>
    </div>
  </div>
</section>

<style>
.two-videos-section {
  padding: 40px 0;
}

.two-videos-container {
  display: flex;
  flex-wrap: wrap;
  gap: 30px;
  justify-content: space-between;
}

.video-item {
  flex: 1 1 45%;
  text-align: center;
}

.video-wrapper {
  position: relative;
  padding-bottom: 56.25%;
  height: 0;
}

.video-wrapper iframe,
.video-wrapper video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.video-text {
  margin-top: 15px;
}
</style>
